{% extends "layout/layout_vertical.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Modifier un objectif</h2>
    <form method="POST" novalidate>
        {% csrf_token %}
        <div class="mb-3">
            <label for="id_titre" class="form-label">Titre :</label>
            <input type="text" class="form-control" id="id_titre" name="titre" value="{{ form.titre.value|default_if_none:'' }}" required>
        </div>

        <div class="mb-3">
            <label for="id_description" class="form-label">Description :</label>
            <textarea class="form-control" id="id_description" name="description">{{ form.description.value|default_if_none:'' }}</textarea>
        </div>

        <div class="mb-3">
            <label for="id_filiere" class="form-label">Filière :</label>
            <input type="text" class="form-control" id="id_filiere" name="filiere" value="{{ form.filiere.value|default_if_none:'' }}" required>
        </div>

        <div class="mb-3">
            <label for="id_niveau" class="form-label">Niveau :</label>
            <input type="text" class="form-control" id="id_niveau" name="niveau" value="{{ form.niveau.value|default_if_none:'' }}" required>
        </div>

        <div class="mb-3">
            <label for="id_priorite" class="form-label">Priorité :</label>
            <select class="form-select" id="id_priorite" name="priorite">
                <option value="haute" {% if form.priorite.value == 'haute' %}selected{% endif %}>Haute</option>
                <option value="moyenne" {% if form.priorite.value == 'moyenne' %}selected{% endif %}>Moyenne</option>
                <option value="basse" {% if form.priorite.value == 'basse' %}selected{% endif %}>Basse</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="id_etat" class="form-label">Etat :</label>
            <select class="form-select" id="id_etat" name="etat">
                <option value="non commencé" {% if form.etat.value == 'non commencé' %}selected{% endif %}>Non commencé</option>
                <option value="en cours" {% if form.etat.value == 'en cours' %}selected{% endif %}>En cours</option>
                <option value="terminé" {% if form.etat.value == 'terminé' %}selected{% endif %}>Terminé</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="id_date_debut" class="form-label">Date début :</label>
            <input type="datetime-local" class="form-control" id="id_date_debut" name="date_debut" value="{{ form.date_debut.value|default_if_none:'' }}">
        </div>

        <div class="mb-3">
            <label for="id_date_echeance" class="form-label">Date échéance :</label>
            <input type="datetime-local" class="form-control" id="id_date_echeance" name="date_echeance" value="{{ form.date_echeance.value|default_if_none:'' }}">
        </div>

        <button type="submit" class="btn btn-primary">Enregistrer</button>
        <a href="{% url 'objectifs:list' %}" class="btn btn-secondary">Retour à la liste</a>
    </form>
</div>
{% endblock %}
